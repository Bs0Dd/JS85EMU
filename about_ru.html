<!DOCTYPE html>
<html>
<head>
<title>О JS85EMU</title>
<meta charset="UTF-8">
<style>
    body {text-align: center;}
</style>
</head>
<body>

<h1>О JS85EMU</h1>

<h3><a href="about.html">English</a></h3>

<img src="bitmaps/js85.png" alt="JS85">

<p style="text-align: left;">
    &nbsp;&nbsp;&nbsp;&nbsp;<b>JS85EMU</b> является эмулятором советского <b>микрокомпьютера</b>/<b>микрокалькулятора</b>/<b>персонального компьютера</b>
    (именно эти <b>три</b> типа упоминаются на коробке, в инструкции или на самом устройстве) <b>Электроника МК85(М)</b>.<br>

</p>

<table style="font-size:18px;font-weight:bold;text-align:center;margin-left: auto;margin-right: auto;">
    <tr><td colspan="2" td style="padding-bottom:20px;">
    GitHub: <a href="https://github.com/Bs0Dd/JS85EMU" target="_blank">JS85EMU</a><br>
    <span style="font-size:13px;">2024 © Compys S&N Software</span>
    </td></tr>
    <tr><td style="padding-right:20px;">Основано на эмуляторе <a href="https://github.com/KP1533TM2/js-mk85" target="_blank">js-mk85</a><br>
    <span style="font-size:13px;">2016 © Алексей Гордеев a.k.a. KP1533TM2</span></td>
    <td style="padding-left:20px;">Анализ работы МК-85 и материалы<br>
    <span style="font-size:13px;">2006-2021 © Пётр Пёнтек a.k.a. piotr433</span></td>
    </tr></table>

<p>Выражаю отдельную благодарность участникам чата <a href="http://www.leningrad.su/museum/" target="_blank"><b>Сергея Фролова</b></a> (<b>Ретрокомпьютеры, калькуляторы и другое ретро</b>)
за помощь в поиске багов, отладке, и сведениях о особенностях работы устройства.</p><br>

<h2>Changelog</h2>

<div style="text-align: left;">
    <b>-> Версия 1.61 - 16.10.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Применено более эффективное сжатие графики.<br>Общий размер "дистрибутива" снизился вдвое!</li>
    </ul>

<br>
<div style="text-align: left;">
    <b>-> Версия 1.6 - 21.09.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Поддержка загрузки ОЗУ и ПЗУ по сетевой ссылке (URL параметры <b>ram</b> и <b>rom</b>)</li>
        <li>Исправлены неточности в инструкциях INC(B), DEC(B), DIV, MFPS</li>
        <li>Исправлены неточности в эмуляции клавиатуры</li>
        <li>Исправлены некорректные показания регистра PP в бинарном формате</li>
    </ul>

<br>
<div style="text-align: left;">
    <b>-> Версия 1.52 - 19.08.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Исправлена ошибка в функции выполнения прерываний<br>
            (вместо PSW выгружался R6/SP)</li>
        <li>Улучшена система прерываний (корректная работа инструкции WAIT<br>
            и сброс внутреннего флага прерывания EVNT)</li>
        <li>Исправлены инструкции RTT и ASHC</li>
        <li>Исправлена ошибка в системе точки останова
            (система срабатывала мгновенно,<br>если точка установлена на текущий адрес)</li>
        <li>Поля ввода ассемблерной инструкции и ввода значения регистра автоматически<br>
            выделяются при нажатии на кнопки, передающие данные в эти поля.</li>
        <li>Теперь, после ввода значения в полях ввода, достаточно нажать Enter для<br>
            применения вписанного в поле значения
        </li>
    </ul>

<br>
<div style="text-align: left;">
    <b>-> Версия 1.5 - 12.08.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Теперь доступна <b>справка</b> с описанием особенностей работы с эмулятором</li>
        <li>Улучшена эмуляция контроллера клавиатуры (поддержка нажатия нескольких клавиш)</li>
        <li>Улучшена эмуляция контроллера памяти (возвращается 0xFF если область памяти пуста)</li>
        <li>Улучшены конвертеры BASIC данных (исправления в функциях обработки)</li>
        <li>Мелкие исправления в Дебаггере, функция быстрого выбора регистра</li>
        <li>Добавлено стороннее ПЗУ "PL ROM" (версия 27 BETA от 17.11.2010),<br>
        содержащее улучшенный вариант заводской прошивки с новыми функциями</li>
        <li>Добавлен фикс для обеспечения работы заводской прошивки с 32КБ ОЗУ</li>
    </ul>

<br>
<div style="text-align: left;">
    <b>-> Версия 1.4 - 25.07.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Представлен инструмент "Дебаггер":
            <ul>
                <li>Контроль работы устройства: приостановка, пошаговое исполнение<br>
                    (1 или более шагов за раз), точка останова по адресу</li>
                <li>Просмотр и редактирование ОЗУ в режимах "байты" и "слова"</li>
                <li>Просмотр состояния регистров процессора (и спец. регистров CPUCTRL, PP и KEYB)<br>
                    и редактирование (кроме KEYB)</li>
                <li>Просмотр дизассемблированных данных в ПЗУ и ОЗУ (lite-disasm11) и<br>
                    их замена (lite-asm11) в памяти (отредактированное ПЗУ не сохраняется<br>
                    при перезагрузке страницы)</li>
                <li>Отображение данных в шестнадцатеричной или восьмеричной системе</li>
            </ul>
        </li>
        <li>Добавлены инструменты для работы с BASIC программами:
            <ul>
                <li>Получение списка содержимого в переменных</li>
                <li>Выгрузка кода программ в текстовые файлы (кодировка Unicode)</li>
                <li>Загрузка программ в память. В одном файле может быть несколько программ,<br>
                для каждой можно опционально указать номер (строка "Program *" перед<br> началом кода),
                иначе программа будет загружена в первую свободную ячейку.<br>
                Строки без номера трактуются как комментарии и игнорируются.<br>
                Признак конца программы - две пустые строки.</li>
            </ul>
        </li>
        <li>Добавлены (ранее упущенные) инструкции MARK, ASHC, SXT и поправлена ошибка в ASH<br>
            (хотя работоспособность операций под вопросом, прошивка их не использует)</li>
        <li>Добавлена поддержка программного выключателя (12 бит в CPUCTRL),<br>
            теперь при нажатии клавиши STOP 21 раз эмулятор выключится, как и в оригинале<br>
            (обработчик в прошивке не определяет клавишу STOP и выключает систему после того,<br>
            как 21 раз к ряду не смог определить клавишу)</li>
        <li>В зависимости от размера ОЗУ меняется название виртуального устройства<br>
            ("МК 85" при 2КБ ОЗУ, иначе "МК 85М")</li>
        <li>Пауза больше не выключается при переключении между вкладками</li>
        <li>Различные исправления мелких ошибок</li>
    </ul>

<br>
<div style="text-align: left;">
    <b>-> Версия 1.02 - 09.07.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Теперь каждая кнопка, открывающая страницу, открывает ее в своем окне<br>
            (раньше все кнопки открывали страницу в одном и том же окне)</li>
        <li>Добавлена утилита для кодирования пикселей в формат символа 96.<br>
            Можно заслать закодированную строку прямо в устройство<br>
            (через эмуляцию нажатия клавиш)</li>
        <li>Теперь панель показывает, остановлен ли тактовый генератор устройства</li>
    </ul>

<br>
<div style="text-align: left;">
    <b>-> Версия 1.01 - 07.07.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Исправлен баг с включением выключенного устройства,<br>
            после переключения на другую вкладку и обратно</li>
    </ul>

<br>
<div style="text-align: left;">
    <b>-> Версия 1.0 - 06.07.2024</b>
</div>
    <ul style="text-align: left;">
        <li>Первая пубичная версия эмулятора</li>
        <li>
            Изменения по сравнению с исходным эмулятором <b>js-mk85</b>:
            <ul>
                <li>Переработан интерфейс, графика взята из эмулятора Петра Пёнтка</li>
                <li>Исправлена ошибка адресации с инкрементом/декрементом для регистра SP (R6)</li>
                <li>Реализованы недостающие инструкции процессора</li>
                <li>Реализованы специальные инструкции пультового (HALT) режима<br>
                    (хотя правильность их работы не гарантируется)
                </li>
                <li>Добавлена возможность выключения/включения</li>
                <li>Добавлена панель с настройками</li>
                <li>Поддержка паузы и перезапуска</li>
                <li>Возможно отображение расширенных символов с оригинальной накладки</li>
                <li>Вибрация при нажатии на клавиши (только на мобильных устройствах)</li>
                <li>Показ количества свободной памяти для программ<br>
                (индикатор МК85 не способен адекватно отобразить число больше 9999)</li>
                <li>Показ количества выделенных переменных и занимаемого ими места</li>
                <li>Полная поддержка клавиатуры (схема раскладки доступна по кнопке)</li>
                <li>Поддержка легкой загрузки RAM или ROM из файлов<br>
                    RAM память также можно сохранить на компьютер</li>
                <li>Изменение размера RAM (от 2 до 32 КБ) и автоматическая инициализация памяти</li>
                <li>Хранение RAM и стороннего ROM в локальном хранилище вместо cookies</li>
                <li>Поддержка режима Turbo (включение с зажатым плюсом или по кнопке)</li>
                <li>Возможность включения Turbo на ходу, не перезапуская эмуляцию</li>
                <li>Возможность изменения скорости стандартного и Turbo режимов</li>
            </ul>
        </li>
        <li>Планируются к добавлению: дебаггер и справка</li>
        <li>Возможно планируется утилита для кодирования точек в формат символа 96</li>
    </ul>

<img src="bitmaps/realmk.jpg" alt="Real MK85" height="400px">

</body>
</html> 
